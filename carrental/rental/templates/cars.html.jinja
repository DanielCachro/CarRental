{% load filters %}
<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wypożyczalnia samochodów</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.css" />
    <!-- <style>
        .cars-cards {
            display: flex;
            justify-content: center;
        }
    </style> -->
</head>

<body data-bs-theme="dark">
    <header>
        {% include "_nav.jinja" %}
        <!-- {% for category in categories %}
        {{category}}
        {% endfor %} -->
    </header>
    <main>
        <section class="cars-cards d-flex align-items-center flex-column mt-5">
            <h1 class="mb-5">Nasza kolekcja samochodów</h1>
            <div class="row row-cols-1 row-cols-md-3 g-4 w-50 justify-content-center">
                {% for car in cars %}
                <div class="col" style="width: 250px;">
                    <div class="card p-2">
                        <img src="../../static/img/Citroen_C3_Automat.png" class="card-img-top" alt="...">
                        <div class="card-body text-body-secondary">
                            <h5 class="card-title mb-3 text-body">{{car.brand}} {{car.model}}</h5>
                            <p class="card-text mb-2">Typ silnika: <span
                                    class="float-end text-body">{{car.engine_type|capfirst}}</span></p>
                            <p class="card-text mb-2">Skrzynia biegów: <span
                                    class="float-end text-body">{{car.gearbox_type|slice:":3"|capfirst}}.</span></p>
                            <p class="card-text mb-2">Liczba miejsc: <span
                                    class="float-end text-body">{{car.seats_count}}</span></p>
                            <p class="card-text mb-2">Moc silnika: <span
                                    class="float-end text-body">{{car.engine_power}} KM</span></p>
                            <p class="card-text mb-2">Spalanie: <span
                                    class="float-end text-body">{{car.fuel_usage|replace_comma_with_dot}}l</span>
                            </p>
                            <a href="/rental/car/1" class="btn btn-primary w-100 mt-3">Szczegóły</a>
                            <a href="{% url 'rent' car_id=car.id %}" class="btn btn-primary w-100 mt-3">Wynajmij
                                samochód</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
        <section class="cards-table d-flex flex-column align-items-center">
            <h2 class="mt-5">Dane naszej floty</h2>
            <div style="width: 65vw;">{{cars2|safe}}</div>
        </section>
    </main>
    {% include "_footer.jinja" %}
    <script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>
    {%block script %}
    <script>let table = new DataTable('#cars2', {
            scrollX: true
        });
    </script>
    {%endblock script%}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>